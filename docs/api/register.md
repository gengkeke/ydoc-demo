## API注册

> API对外输出服务，生成API是非常关键的一步，目前数据API支持两种API生成方式：模板向导模式、自定义SQL模式。

### 模板向导模式
向导模式支持单张表原生字段配置，适合单张表的API查询生成，对于用户来讲，简单易上手。向导模式生成API步骤如下：

步骤一：选择API生成方式。

步骤二：填写API基本属性。包含API分组、名称、路径、请求方式、请求协议、返回类型等信息。

协议支持：http、https；

请求方式支持：post、get请求；

支持单秒调用次数填写，保障API性能；

API Path：API Path用于标识API展现给API申请者的请求路径，且支持携带请求参数，但必须与后端Path中的请求参数保持一致。

安全组：安全组用于限制访问API的黑白名单，保障API访问的安全性。

步骤三：配置API参数。选择API读取的数据库、数据表，通过图形化的界面将数据表中的字段配置为输入参数的对应字段、输出参数的对应字段，并携带对应字段的字段类型，最大程度的降低用户操作成本。同时支持对参数进行自定义参数说明，方便API使用者的调用。

支持分页查询：当查询结果大于1000条时，请选择分页查询，每页最大返回1000条结果。若没有选择，默认分页查询。

步骤四：API测试。支持对生成的API进行测试，保障API的可用性。用户可根据API配置填写输入参数的值，开始测试，系统运行后返回测试结果。

API返回结果中,data[]中为返回的数据，errorCode为返回状态码，errorInfo为具体错误信息，Space是调用时间。返回状态码对应的具体释义详见API返回状态码

### 自定义SQL模式
自定义SQL模式支持多张表关联输出、复杂查询条件及聚合函数操作等，用户可自定义灵活配置。
脚本生成API的步骤与向导模式类似，第一步API基础属性与第三步API测试步骤一致，第二步API参数配置，自定义SQL模式通过开发脚本完成输入参数、输出参数的配置。

SQL编写完成后，可点击编辑参数，查看系统解析SQL出来的输入参数、输出参数，检验API参数的准确性，如上图